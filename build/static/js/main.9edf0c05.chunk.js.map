{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","searchFilter","handleSearchChange","search","filterPersons","onSubmit","onChange","value","map","person","i","style","marginBottom","name","number","PersonForm","addPerson","handleNameChange","newName","handleNumberChange","newNumber","type","Persons","persons","handleDelete","marginLeft","backgroundColor","color","borderRadius","onClick","Notification","messageinfo","message","className","App","useState","setPersons","setFilterPersons","setSearch","setNewName","setNewNumber","errorMessage","setErrorMessage","useEffect","console","log","personServices","event","preventDefault","newFilter","filter","toLowerCase","includes","target","existPerson","find","newPerson","window","confirm","setTimeout","catch","error","statusText","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9edf0c05.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteOne = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n    return request.then((response) => response);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deleteOne,\r\n};\r\n","import React from 'react';\r\n\r\nexport const Filter = ({\r\n    searchFilter,\r\n    handleSearchChange,\r\n    search,\r\n    filterPersons,\r\n}) => {\r\n    return (\r\n        <form onSubmit={searchFilter}>\r\n            <div>\r\n                filter shown with\r\n                <input onChange={handleSearchChange} value={search} />\r\n            </div>\r\n            {filterPersons.map((person, i) => (\r\n                <div style={{ marginBottom: '10px' }} key={person.id*2}>\r\n                    {person.name} {person.number}\r\n                </div>\r\n            ))}\r\n        </form>\r\n    );\r\n};\r\n","import React from 'react'\r\n\r\nexport const PersonForm = ({addPerson,handleNameChange,newName,handleNumberChange,newNumber}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n            name: <input onChange={handleNameChange} value={newName} />\r\n        </div>\r\n        <div >\r\n            number: <input onChange={handleNumberChange} value={newNumber} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport const Persons = ({ persons, handleDelete }) => {\r\n    return persons.map((person, i) => (\r\n        <div style={{ marginBottom: '10px' }} key={person.id}>\r\n            {person.name} {person.number}\r\n            <button\r\n                style={{\r\n                    marginLeft: '10px',\r\n                    backgroundColor: 'red',\r\n                    color: 'white',\r\n                    borderRadius: '5px',\r\n                }}\r\n                onClick={() => {\r\n                    handleDelete(person.id, person.name);\r\n                }}\r\n            >\r\n                delete\r\n            </button>\r\n        </div>\r\n    ));\r\n};\r\n","export const Notification = (messageinfo) => {\r\n    \r\n    const { message, type } = messageinfo.messageinfo;\r\n\r\n    if (!message && !type) {\r\n        return null;\r\n    }\r\n\r\n    if (type === 'success') {\r\n        return <div className=\"success\">{message}</div>;\r\n    } else {\r\n        return <div className=\"error\">{message}</div>;\r\n    }\r\n};\r\n","import React, { useEffect, useState } from 'react';\n\nimport personServices from './services/persons';\n\nimport { Filter } from './components/Filter';\nimport { PersonForm } from './components/PersonForm';\nimport { Persons } from './components/Persons';\nimport { Notification } from './components/Notification';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n\n    const [filterPersons, setFilterPersons] = useState([{}]);\n\n    const [search, setSearch] = useState('');\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [errorMessage, setErrorMessage] = useState({\n        message: null,\n        type: null,\n    });\n\n    useEffect(() => {\n        console.log('effect');\n\n        personServices.getAll().then((data) => {\n            setPersons(data);\n        });\n    }, []);\n\n    const addPerson = (event) => {\n        event.preventDefault();\n\n        const existPerson = persons.find((person) => person.name === newName);\n        const newPerson = { name: newName, number: newNumber };\n        if (!existPerson) {\n            personServices\n                .create(newPerson)\n                .then((data) => {\n                    setPersons([...persons, data]);\n\n                    setErrorMessage({\n                        message: `Added ${data.name}`,\n                        type: 'success',\n                    });\n                    setTimeout(() => {\n                        setErrorMessage({\n                            message: null,\n                            type: null,\n                        });\n                    }, 5000);\n                })\n                .catch((error) => {\n                    setErrorMessage({\n                        message: `Error Added User`,\n                        type: 'Error',\n                    });\n                    setTimeout(() => {\n                        setErrorMessage({\n                            message: null,\n                            type: null,\n                        });\n                    }, 5000);\n                });\n        } else {\n            if (\n                window.confirm(\n                    `${newName} is already added to phonebook, replace the old number with a new one ? `\n                )\n            ) {\n                personServices\n                    .update(existPerson.id, newPerson)\n                    .then((data) => {\n                        setPersons(\n                            persons.map((person) =>\n                                person.id !== existPerson.id ? person : data\n                            )\n                        );\n\n                        setErrorMessage({\n                            message: `Updated ${existPerson.name}`,\n                            type: 'success',\n                        });\n                        setTimeout(() => {\n                            setErrorMessage({\n                                message: null,\n                                type: null,\n                            });\n                        }, 5000);\n                    })\n                    .catch((error) => {\n                        setErrorMessage({\n                            message: `Error updated user`,\n                            type: 'Error',\n                        });\n                        setTimeout(() => {\n                            setErrorMessage({\n                                message: null,\n                                type: null,\n                            });\n                        }, 5000);\n                    });\n            }\n        }\n\n        setNewName('');\n        setNewNumber('');\n    };\n\n    const searchFilter = (event) => {\n        event.preventDefault();\n\n        const newFilter = persons.filter((person) =>\n            person.name.toLowerCase().includes(search.toLowerCase())\n        );\n\n        setFilterPersons(newFilter);\n\n        setSearch('');\n    };\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleSearchChange = (event) => {\n        setSearch(event.target.value);\n    };\n\n    const handleDelete = (id, name) => {\n        if (window.confirm(`You want to remove ${name}`)) {\n            personServices\n                .deleteOne(id)\n                .then((response) => {\n                    if (response.statusText === 'OK') {\n                        setPersons(\n                            persons.filter((person) => person.id !== id)\n                        );\n\n                        setErrorMessage({\n                            message: `Delete ${name}`,\n                            type: 'success',\n                        });\n                        setTimeout(() => {\n                            setErrorMessage({\n                                message: null,\n                                type: null,\n                            });\n                        }, 5000);\n                    }\n                })\n                .catch((error) => {\n                    setErrorMessage({\n                        message: `Error delete user`,\n                        type: 'Error',\n                    });\n                    setTimeout(() => {\n                        setErrorMessage({\n                            message: null,\n                            type: null,\n                        });\n                    }, 5000);\n                });\n        }\n    };\n\n    return (\n        <div>\n            <Notification messageinfo={errorMessage} />\n\n            <h2>Phonebook</h2>\n            <Filter\n                searchFilter={searchFilter}\n                handleSearchChange={handleSearchChange}\n                search={search}\n                filterPersons={filterPersons}\n            />\n            <h2>Add New</h2>\n            <PersonForm\n                addPerson={addPerson}\n                handleNameChange={handleNameChange}\n                newName={newName}\n                handleNumberChange={handleNumberChange}\n                newNumber={newNumber}\n            />\n            <h2>Numbers</h2>\n            <Persons persons={persons} handleDelete={handleDelete} />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}